# 随手背日语 (Japanese Anytime)

一个简洁美观的日语学习网页应用，帮助你随时随地学习日语单词和短语。支持多种学习模式，适合不同学习需求。

## 🌐 在线访问

**网页地址**：https://JW-Yuan.github.io/japanese-anytime/ 可直接在线使用。

## 📖 使用方法

这是一个简洁美观的日语学习网页，目前主要使用红宝书 N1-N5 词汇数据。

### 界面导航

1. **左侧边栏**：
   - 点击左侧边栏可以展开/收起导航栏
   - 展开后可以看到完整的学习选项和设置

2. **选择学习分类**：
   - **大分类选择**：在导航栏中选择学习模式
     - 按 N1-N5 分级（✅ 真实数据：红宝书 N1-N5）
     - 按常用分类（⚠️ 试用数据）
     - 按词书分类（⚠️ 试用数据）
   - **小分类选择**：选择大分类后，在下拉框中选择具体的小分类
     - N1-N5 模式：选择对应的 JLPT 等级（N1、N2、N3、N4、N5）
     - 常用分类模式：选择问候语、日常用语、数字、食物等
     - 词书模式：选择标准日本语等教材

3. **学习模式设置**：
   - **顺序模式**：按照词书的顺序依次学习
     - 支持搜索功能：可以根据**单词**、**日语假名**或**罗马音**搜索单词
     - 搜索后可以直接跳转到对应单词的位置，方便快速定位学习进度
   - **随机模式**：完全随机显示单词
     - 注意：这不是简单的打乱词书顺序，而是每次切换单词时都从所有单词中完全随机选择
     - 前后单词之间没有固定顺序关系

### 学习操作

- **切换单词**：
  - 使用 `←` 左箭头键：上一个单词
  - 使用 `→` 右箭头键：下一个单词
- **随机打乱**：
  - 按 `R` 键：在顺序模式下随机打乱当前词书顺序

### 注意事项

⚠️ **数据状态说明**：
- ✅ **真实数据**：N1-N5 分级模式下的数据是完整的真实数据（来自红宝书）
- ⚠️ **试用数据**：常用分类和按词书模式目前为试用数据，主要用于功能演示





## 功能特点

- 📚 **多种学习模式**：
  - **按N1-N5分级**：根据JLPT等级筛选词汇（✅ 真实数据：红宝书 N1-N5）
  - **按常用分类**：问候语、日常用语、数字、食物等（⚠️ 试用数据）
  - **按词书分类**：按照标准日本语等教材分类学习（⚠️ 试用数据）
  
- 🎯 **卡片式展示**：美观的卡片设计，清晰展示日语、读音和中文意思
- 🎲 **随机学习**：可以随机打乱词汇顺序，避免机械记忆
- 👁️ **显示/隐藏**：可以隐藏中文意思，先尝试回忆再查看答案
- 🏷️ **标签显示**：卡片上显示N级别和词书信息
- ⌨️ **键盘快捷键**：
  - `←` 左箭头：上一个
  - `→` 右箭头：下一个
  - `R`：随机打乱


## 📁 文件结构

```
japanese-anytime/
├── index.html              # 主页面
├── css/
│   └── style.css          # 样式文件
├── js/
│   └── main.js            # 主要逻辑
├── data/
│   ├── config.json        # 配置文件
│   ├── category/          # 按分类组织的词汇（试用数据）
│   │   ├── daily.json
│   │   └── greetings.json
│   ├── nlevel/            # 按JLPT等级组织的词汇（真实数据）
│   │   ├── N1.json        # 红宝书 N1 词汇（真实）
│   │   ├── N2.json        # 红宝书 N2 词汇（真实）
│   │   ├── N3.json        # 红宝书 N3 词汇（真实）
│   │   ├── N4.json        # 红宝书 N4 词汇（真实）
│   │   └── N5.json        # 红宝书 N5 词汇（真实）
│   └── book/              # 按词书组织的词汇（试用数据）
│       ├── 标准日本语初级上.json
│       └── 标准日本语初级下.json
└── README.md              # 项目说明
```

## 📖 数据集构建

### 数据来源

本项目的主要贡献是构建了**红宝书 N1-N5 词汇的详细 JSON 数据集**。

数据来源于《红宝书大全集_新日本语能力考试N1-N5文字词汇详解》，通过 AI 辅助的方式提取单词并生成详细的词条信息。

### 构建方法

数据集的构建方法参考了 [DictionaryByGPT4](https://github.com/Ceelog/DictionaryByGPT4.git) 项目。该项目使用 GPT-4 为英语单词生成包含词义、例句、词根词缀、变形、文化背景、记忆技巧和小故事的详细分析。本项目采用类似的方法，使用**阿里云大模型百炼的 Qwen 系列模型**为日语单词生成多维度分析。

**主要流程**：
1. 从 PDF 中提取单词列表（按 N1-N5 等级分类）
2. 使用阿里云大模型百炼的 Qwen 模型为每个单词生成详细的 JSON 词条
3. 生成包含多维度分析的完整词条数据

**使用的 AI 模型**：
- **API 服务**：阿里云大模型百炼（DashScope）
- **模型系列**：Qwen 系列（qwen-turbo、qwen-plus 等）
- **调用方式**：通过 OpenAI 兼容接口调用

**Prompt 设计**：

参考 DictionaryByGPT4 的 prompt 设计思路，本项目为日语单词设计了专门的 prompt，用于生成结构化的 JSON 词条：

```text
    你是一名专业的日语词典编纂助手。

    请针对给定的【一个日语单词】，生成一个【结构化 JSON 词条】，用于构建日语学习词典。

    要求：
    1. 只输出 JSON，不要任何解释说明
    2. JSON 结构必须严格符合下面的格式
    3. 内容使用【简体中文】
    4. 日语例句自然、地道，避免生造
    5. 不要输出 Markdown
    6. 所有字符串中的换行必须写成 \\n
    7. 如果内容原本需要分段，请使用 \\n\\n
    8. 不允许出现裸换行
    9. 不要输出任何 JSON 以外的文字，输出必须能被 Python 的 json.loads 直接解析
    10. “词义分析”部分应根据具体词汇自适应生成：
        - 出现的字段应仅包括与该词真正相关的内容
        - 可选字段包括但不限于：基本义、引申义、使用场景、注意事项、搭配对象、语用特点、感情色彩、常用搭配、语气/礼貌等级、固定搭配、常见误用等
        - 所有属性值中**不允许换行**，即不允许使用\\n\\n或者\\n
        - 如果某字段只有一条内容，则不加序号
        - 如果某字段有多条内容（例如多个常用搭配或多个引申义），每条内容必须加序号（1. 2. 3. …），条目之间用空格分隔
        - 如果某条内容有中文对应，把中文放在日语后面，用括号括上
        - 不返回空值或占位字段，如果某字段不适用就省略
        - 不要为了凑齐字段而随意生成无关内容
        - 输出内容应与词汇真实使用相符，不要为了满足字段数量而生成冗余内容

    JSON 格式模板（字段不可增删）：
    {{
    "单词": "",
    "简介": {{
        "假名": "",
        "罗马音": "",
        "简短释义": ""
    }},
    "词义分析": {{}},
    "例句与用法": "",
    "词根/构词分析": "",
    "词缀/接头辞/接尾辞": "",
    "语法活用与变形": "",
    "历史与文化背景": "",
    "记忆辅助": "",
    "小故事/场景": {{
        "日语故事": "",
        "中文翻译": ""
    }}
    }}

    示例（保证 JSON-safe，所有换行用 \\n 或 \\n\\n，日语在上，中文在下，多条内容加序号，单条不加序号，词义分析属性值不换行，即不允许使用\\n\\n或者\\n，如果某字段有多条内容（例如多个常用搭配或多个引申义），每条内容必须加序号（1. 2. 3. …），条目之间用空格分隔，如果某条内容有中文对应，把中文放在日语后面，用括号括上）：
    {{
    "单词": "赤",
    "简介": {{
        "假名": "あか",
        "罗马音": "aka",
        "简短释义": "红色；红色的东西"
    }},
    "词义分析": {{
        "基本义": "指颜色中的红色，是最基础的颜色词汇之一",
        "引申义": "1. 危险、警告（如交通信号灯） 2. 日本国家或民族象征（如日の丸）",
        "使用场景": "描述颜色或抽象概念",
        "注意事项": "在某些文化或语境中，红色可能带有警示或危险的含义",
        "搭配对象": "信号灯、财务术语",
        "语用特点": "可构成复合词，用于比喻或象征含义",
        "感情色彩": "中性偏积极"
    }},
    "例句与用法": "1. このりんごはとても赤いです。\\n这个苹果很红。\\n\\n2. 赤信号で必ず止まります。\\n红灯时一定要停下。",
    "词根/构词分析": "‘赤’是汉字词，原义为红色，可构成复合词",
    "词缀/接头辞/接尾辞": "无固定接头辞",
    "语法活用与变形": "赤い（基本形）→ 赤く（连用形）→ 赤かった（过去形）→ 赤くない（否定形）",
    "历史与文化背景": "红色在日本文化中象征吉祥与警告",
    "记忆辅助": "联想‘あか’=‘啊卡’，想象红色卡片喊‘啊’",
    "小故事/场景": {{
        "日语故事": "今日は幼稚園の運動会でした。子どもたちは赤い帽子をかぶりました。",
        "中文翻译": "今天是幼儿园运动会，孩子们戴着红色帽子"
    }}
    }}

    现在要处理的日语单词是：
    「{word}」
```

这个 prompt 的设计思路与 DictionaryByGPT4 类似，但针对日语学习的特点进行了优化，包括：
- 强调日语特有的语法活用与变形
- 关注日本文化背景
- 提供假名和罗马音标注
- 自适应生成词义分析字段

**数据统计**（红宝书 N1-N5）：
- N1: 3,221 词
- N2: 2,573 词
- N3: 2,253 词
- N4: 1,259 词
- N5: 1,029 词
- **总计**：约 9,400+ 个详细词条

### 数据状态说明

⚠️ **重要提示**：
- ✅ **真实数据**：`data/nlevel/` 目录下的 N1-N5 JSON 文件是完整的真实数据
- ⚠️ **试用数据**：`data/category/` 和 `data/book/` 目录下的数据为试用数据，仅用于演示功能

## 🚀 使用方法

### 在线使用（推荐）

**网页地址**：https://JW-Yuan.github.io/japanese-anytime/

直接访问上述网址即可使用，无需安装任何软件。

### 本地部署

#### GitHub Pages 部署

1. 将代码推送到 GitHub 仓库
2. 在仓库设置中启用 GitHub Pages
3. 选择 main 分支作为源
4. 访问 `https://你的用户名.github.io/japanese-anytime`

#### 本地运行

由于浏览器的 CORS 限制，需要通过本地服务器运行。可以使用以下任一方式：

**方式一：使用 VS Code Live Server 插件（推荐）**
1. 在 VS Code 中安装 [Live Server](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer) 插件
2. 右键点击 `index.html` 文件
3. 选择 "Open with Live Server"
4. 浏览器会自动打开并显示页面

**方式二：使用 Python**
```bash
# 在项目根目录下运行
cd japanese-anytime
python -m http.server 8000
```
然后访问 `http://localhost:8000`

**方式三：使用 Node.js**
```bash
# 在项目根目录下运行
cd japanese-anytime
# 需要安装 http-server
npx http-server
```
然后访问显示的本地地址

## 📊 数据格式

词汇数据按分类存储在 `data/` 目录的不同子文件夹中：

- `data/nlevel/` - 按JLPT等级组织的词汇（✅ **真实数据**：红宝书 N1-N5）
- `data/category/` - 按常用分类组织的词汇（⚠️ 试用数据）
- `data/book/` - 按词书组织的词汇（⚠️ 试用数据）
- `data/config.json` - 配置文件

### JSON 词条格式

每个词汇包含以下详细属性（使用 AI 模型自动生成）：

```json
  {
  "单词": "赤",
  "简介": {
    "假名": "あか",
    "罗马音": "aka",
    "简短释义": "红色；红色的东西"
  },
  "词义分析": {
    "基本义": "指颜色中的红色，是最基础的颜色词汇之一",
    "引申义": "1. 危险、警告（如交通信号灯） 2. 日本国家或民族象征（如日の丸）",
    "使用场景": "描述颜色或抽象概念",
    "注意事项": "在某些文化或语境中，红色可能带有警示或危险的含义",
    "搭配对象": "信号灯、财务术语",
    "语用特点": "可构成复合词，用于比喻或象征含义",
    "感情色彩": "中性偏积极"
  },
  "例句与用法": "1. このりんごはとても赤いです。\n这个苹果很红。\n\n2. 赤信号で必ず止まります。\n红灯时一定要停下。",
  "词根/构词分析": "'赤'是汉字词，原义为红色，可构成复合词",
  "词缀/接头辞/接尾辞": "无固定接头辞",
  "语法活用与变形": "赤い（基本形）→ 赤く（连用形）→ 赤かった（过去形）→ 赤くない（否定形）",
  "历史与文化背景": "红色在日本文化中象征吉祥与警告",
  "记忆辅助": "联想'あか'='啊卡'，想象红色卡片喊'啊'",
  "小故事/场景": {
    "日语故事": "今日は幼稚園の運動会でした。子どもたちは赤い帽子をかぶりました。",
    "中文翻译": "今天是幼儿园运动会，孩子们戴着红色帽子"
  }
}
```

### 字段说明

- **单词**: 日语汉字/假名
- **简介**: 包含假名、罗马音和简短释义
- **词义分析**: 详细的词义解释，包括基本义、引申义、使用场景、注意事项、搭配对象、语用特点、感情色彩等（根据词汇特点自适应生成）
- **例句与用法**: 实际使用例句及其翻译（日语在上，中文在下）
- **词根/构词分析**: 词源和构词方式分析
- **词缀/接头辞/接尾辞**: 词缀功能分析
- **语法活用与变形**: 语法形式和搭配
- **历史与文化背景**: 文化内涵和历史来源
- **记忆辅助**: 记忆技巧和联想方法
- **小故事/场景**: 包含该单词的小故事（日语和中文翻译）

## 🔧 添加新词汇

在对应的 JSON 文件中手动添加新的词汇对象，确保包含所有必需字段。参考上述 JSON 词条格式。

如需批量生成词汇数据，可以参考 [DictionaryByGPT4](https://github.com/Ceelog/DictionaryByGPT4.git) 的方法，使用大语言模型为单词列表生成详细词条。

## 浏览器支持

- Chrome（推荐）
- Firefox
- Safari
- Edge

## 🛠️ 技术栈

### 前端
- 纯 HTML/CSS/JavaScript
- 无外部依赖（除了 Font Awesome 图标 CDN）
- 适合 GitHub Pages 静态部署

### 数据集构建
- 参考 [DictionaryByGPT4](https://github.com/Ceelog/DictionaryByGPT4.git) 的方法
- 使用**阿里云大模型百炼的 Qwen 系列模型**生成详细词条
- 数据来源：红宝书 N1-N5 词汇
- API 服务：阿里云 DashScope（OpenAI 兼容接口）

## 📝 最新更新

- [x] 构建红宝书 N1-N5 词汇的详细 JSON 数据集（约 9,400+ 词条）
- [x] 参考 DictionaryByGPT4 方法，使用 AI 生成多维度词条分析
- [x] 集成到个人网站 JW-Yuan.github.io
- [x] 支持按分类、等级、词书三种学习模式
- [x] 简洁美观的网页界面和交互体验

## 🔮 未来计划

- [ ] 完善红宝书 N1-N5 词汇数据（持续更新中）
- [ ] 添加更多真实词汇数据（常用分类、词书等）
- [ ] 支持自定义词汇列表导入
- [ ] 添加发音功能（语音合成）
- [ ] 实现学习统计功能（自动记录已学词汇数量、学习进度保存）
- [ ] 支持用户登录（实现跨设备学习进度同步）
- [ ] 添加智能复习提醒功能
- [ ] 移动端优化和PWA支持
- [ ] 添加学习统计和分析图表

## 🤝 贡献

我们非常欢迎社区贡献！

### 贡献词书数据

如果你有日语学习相关的词书资源（任何格式：PDF、Word、Excel、TXT 等），欢迎贡献！

**贡献方式**：
- 通过 GitHub Issues 提交词书资源
- 或者直接提交 Pull Request

我们会尽量将各种格式的词书转换为 JSON 格式，并嵌入到网页中供大家使用。无论是：
- 📚 标准日本语系列教材
- 📖 其他日语学习教材
- 📝 词汇分类整理
- 📄 任何有助于日语学习的词汇资源

都非常欢迎！

### 功能建议

如果你对网页功能有任何建议或想法，欢迎：
- 在 GitHub Issues 中提出
- 或者提交 Pull Request 实现新功能

我们期待你的宝贵意见，让这个项目变得更好！

## 许可证

MIT License
